# Примеры использования библиотеки

В данной директории находятся примеры работы с различными моделями.
Пример запуска скрипта:  
С использованием usb-камеры:
```angular2html
python3 [название скрипта] --usbcam /dev/video0 --font ../fonts/OpenSans-VariableFont_wdth,wght.ttf --fsize 1280,1920
```   
С использованием файла видео:
```angular2html
python3 [название скрипта] --videofile {file_path},{file_path} --font ../fonts/OpenSans-VariableFont_wdth,wght.ttf --fsize 1280,1920
```
Примеры скриптов:
* run - для обработки данных
* train - для обучения модели

### Команды

* --usbcam <путь к устройству>,<путь к устройству>,... - список источников данных для считывания видеопотока с usb-камеры
* --videofile <путь к файлу>,<путь к файлу>,... - список источников данных для считывания видеопотока из файла
* -c или --confidence <пороговое значение> - пороговое значение для моделей
* -f или --font <путь к шрифту> - путь к файлу шрифта. Формат файла: "*.ttf"   
* --tsize - <n, k> - формат сетки вывода.
* --fsize <H, W> - разрешение выходного изображения.
* -d или --device <device_type> - Устройство для обработки изображений. Доступно: cpu, cuda.
* -l или --line - координаты линии для отслеживания и подсчёта пересекающих её объектов.
* -n или --num - количество отслеживаемых объектов
* -d или --destination - пути сохранения
* -w или --weights - пути к чекпоинтам (через ",", если требуется загрузить несколько чекпоинтов)
* --data - путь к данным для обучения


### Создайте конфигурационный файл для линий для подсчёта объектов
1. Запустите команду:
```
python3 config_gui.py -v <video_file> -n <path_to_config_file>
```
2. Нажмите "сохранить" и закройте окно.

## Обучение
Компоненты библиотеки возможно обучить на другие задачи.
Для обучения необходимо зайти в директорию с алгоритмом, который нужно обучить и прописать команду:

    python3 train.py --data {путь к данным}

Таким образом модель обучить на данных, путь к которым указан вместо {path to data}.

